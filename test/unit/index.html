<!doctype html>
<html class=" js-false">
    <head>
        <meta charset="utf-8"/>
        <title>Head.JS Unit Tests</title>

        <!-- QUnit -->
        <link rel="stylesheet" type="text/css" href="../../media/libs/qunit/qunit-1.10.0.css" />
        
        <!-- HeadJS -->
        <script>
			// BrowserScope Results
            var _bTestResults = {};           
        </script>
        <script type="text/javascript" src="../../media/libs/headjs/head.min.js"></script>
        
        <style>
            body {
                width: 1000px;
                margin: 20px auto;
            }
        </style>
    </head>
    <body>              
        <div id="qunit"></div>       
        <div id="qunit-userAgent"></div>        
        <h4>
            <em id="browserscope">See how other browsers fared with these tests on <a href="http://www.browserscope.org/user/tests/table/agt1YS1wcm9maWxlcnINCxIEVGVzdBjn5PUSDA?v=3&layout=simple&highlight=1" target="_blank">BrowserScope</a></em>
        </h4>
        <em>
            CSS Loading fails on older browsers, FF3.5, FF4, FF5 (still gathering stats)
        </em>
 
        <script type="text/javascript" src="../../media/libs/qunit/qunit-1.10.0.js"></script>
        <script type="text/javascript" src="../../media/libs/qunit/qunit-step.js"></script>
        <script>QUnit.config.requireExpects = true;</script>
        
        <!-- Tests -->
        <script src="test.responsive.js"></script>
        <script src="test.feature.js"></script> 
        <script src="test.load.js"></script>		
        
        <script>
            function sanitize(msg) {
                msg = msg || "";
                
                return msg
                        .replace(/[^A-Z]/gi, "")
                        .toLocaleLowerCase();
            }
            
            // Build browserscope results
            QUnit.log(function (details) {
                var key   = sanitize(details.message);
                var value = details.result ? 1 : 0;
                
                if (!!key) {
                    _bTestResults[key] = value;
                }
            });
            
            // Send browserscope results
            QUnit.done(function (details) {
                head.load("http://www.browserscope.org/user/beacon/" + "agt1YS1wcm9maWxlcnINCxIEVGVzdBjn5PUSDA");
            });
        </script>
    </body>
</html>